<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="utf-8">
	<base href="../../../" />
	<script src="page.js"></script>
	<link type="text/css" rel="stylesheet" href="page.css" />
</head>

<body>
	<h1>Cargando modelos 3D</h1>

	<p>
		Los modelos 3D est치n disponibles en cientos de formatos de archivos, cada uno con diferentes prop칩sitos, funcionalidades diferentes y complejidad variable. Aunque <a href="https://github.com/mrdoob/three.js/tree/dev/examples/jsm/loaders" target="_blank" rel="noopener">three.js proporciona muchos loaders</a>, elegir el formato y el flujo de trabajo correctos ahorrar치 tiempo y frustaci칩n m치s adelante. Algunos formatos son dif칤ciles de trabajar, ineficientes en experiencias en tiempo real, o simplemente no son totalmente compatibles en este momento.
	</p>

	<p>
		Esta gu칤a proporciona un flujo de trabajo recomendado para la mayor칤a de usuarios, y sugerencias sobre qu칠 hacer si las cosas no van como se espera.
	</p>

	<h2>Antes de empezar</h2>

	<p>
		Si es la primera vez que ejecutas un servidor local, empieza con [link:#manual/introduction/How-to-run-things-locally como ejecutar algo localmente] primero. Muchos errores comunes de visualizaci칩n de modelos 3D pueden evitarse alojando los archivos correctamente.
	</p>

	<h2>Flujo de trabajo recomendado</h2>

	<p>
		Siempre que sea posible, se recomienda utilizar glTF (GL Transmission Format). Tanto las versiones del formato <small>.GLB</small> como <small>.GLTF</small> est치n bien soportadas. Dado que glTF se centra en la transmisi칩n de recursos en tiempo de ejecuci칩n, es compacto para transmitir y r치pido para cargar. Incluye mallas, materiales, texturas, skins, esqueletos, objetos morfol칩gicos, animaciones, luces y c치maras.
	</p>

	<p>
		Los archivos glTF de dominio p칰blico est치n disponibles en sitios como <a href="https://sketchfab.com/models?features=downloadable&sort_by=-likeCount&type=models" target="_blank" rel="noopener">Sketchfab</a>, o varias herramientras que incluyen la exportaci칩n de glTF:
	</p>

	<ul>
		<li><a href="https://www.blender.org/" target="_blank" rel="noopener">Blender</a> de la Fundaci칩n Blender</li>
		<li><a href="https://www.allegorithmic.com/products/substance-painter" target="_blank" rel="noopener">Substance Painter</a> de Allegorithmic</li>
		<li><a href="https://www.foundry.com/products/modo" target="_blank" rel="noopener">Modo</a> de Foundry</li>
		<li><a href="https://www.marmoset.co/toolbag/" target="_blank" rel="noopener">Toolbag</a> de Marmoset</li>
		<li><a href="https://www.sidefx.com/products/houdini/" target="_blank" rel="noopener">Houdini</a> de SideFX</li>
		<li><a href="https://labs.maxon.net/?p=3360" target="_blank" rel="noopener">Cinema 4D</a> de MAXON</li>
		<li><a href="https://github.com/KhronosGroup/COLLADA2GLTF" target="_blank" rel="noopener">COLLADA2GLTF</a> del Grupo Khronos</li>
		<li><a href="https://github.com/facebookincubator/FBX2glTF" target="_blank" rel="noopener">FBX2GLTF</a> de Facebook</li>
		<li><a href="https://github.com/AnalyticalGraphicsInc/obj2gltf" target="_blank" rel="noopener">OBJ2GLTF</a> de Analytical Graphics Inc</li>
		<li>&hellip;y <a href="http://github.khronos.org/glTF-Project-Explorer/" target="_blank" rel="noopener">muchos m치s</a></li>
	</ul>

	<p>
		Si tus herramientras favoritas no soportan glTF, considera la posibilidad de solicitar la exportaci칩n de glTF a los autores, o de publicarlo en <a href="https://github.com/KhronosGroup/glTF/issues/1051" target="_blank" rel="noopener">el hilo de la hoja de ruta de glTF</a>.
	</p>

	<p>
		Cuando glTF no es una opci칩n, tambi칠n se pueden utilizar formatos populares como FBX, OBJ o COLLADA, que se mantienen con regularidad.
	</p>

	<h2>Cargando</h2>

	<p>
		Solo unos pocos loaders (p. ej. [page:ObjectLoader]) se incluyen por defecto en three.js - los dem치s deben a침adirse a tu aplicaci칩n de manera individual.
	</p>

	<code>
		import { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader.js';
	</code>

	<p>
		Una vez que hayas impostado un loader, en condiciones para a침adir un modelo a tu escena. La sintaxis var칤an entre los distintos loaders - cuando utilices otro formato, revisa los ejemplos y la documentaci칩n de ese loader. Para glTF, el uso con scripts globales ser칤a:
	</p>

	<code>
		const loader = new GLTFLoader();

		loader.load( 'path/to/model.glb', function ( gltf ) {

			scene.add( gltf.scene );

		}, undefined, function ( error ) {

			console.error( error );

		} );
	</code>

	<p>
		Consulta la [page:GLTFLoader documentacion de GLTFLoader] para m치s detalles.
	</p>

	<h2>Solucionar problemas</h2>

	<p>
		Has pasado horas modelando una obra maestra artesanal, la cargas en la p치gina web y - 춰oh, no! 游땴 Est치 distorsionada, mal coloreada o no se ve por completo.
		Empieza con estos pasos para solucionar el problema:
	</p>

	<ol>
		<li>
			Comprueba si hay errores en la consola de JavaScript, y aseg칰rate de haber utilizado un callback <em>onError</em> al llamar a <em>.load()</em> para registrar el resultado.
		</li>
		<li>
			Visualiza el modelo en otra aplicaci칩n. Para glTF, los visores drag-and-drop est치n disponibles para <a href="https://gltf-viewer.donmccurdy.com/" target="_blank" rel="noopener">three.js</a> y <a href="http://sandbox.babylonjs.com/" target="_blank" rel="noopener">babylon.js</a>. Si el modelo se muestra correctamente en una o varias aplicaciones, <a href="https://github.com/mrdoob/three.js/issues/new" target="_blank" rel="noopener">reporta un error a three.js</a>. Si el modelo no puede mostrarse en ninguna aplicaci칩n, recomendamos encarecidamente que se reporte un error a la aplicaci칩n utilizada para crear el modelo.
		</li>
		<li>
			Prueba a aumentar o reducir el modelo a una escala de 1000. Muchos modelos se escalan de forma diferente, y los modelos grandes pueden no verse si la c치mara est치 dentro del modelo.
		</li>
		<li>
			Intenta a침adir y posicionar una fuente de luz. El modelo puede quedar oculto en la oscuridad.
		</li>
		<li>
			Busca las peticiones de textura fallidas en la pesta침a de red, como <em>C:\\Path\To\Model\texture.jpg</em>. Utiliza rutas relativas a tu modelo en su defecto, como <em>images/texture.jpg</em> - esto puede requerir la edici칩n del archivo del modelo en un editor de texto.
		</li>
	</ol>

	<h2>Solicitar ayuda</h2>

	<p>
		Si has seguido el proceso de resoluci칩n de problemas anterior y tu modelo sigue sin funcionar, el modo adecuado de pedir ayuda te llevar치 a una soluci칩n m치s f치cilmente. Publica una pregunta en el <a href="https://discourse.threejs.org/" target="_blank" rel="noopener">foro de three.js</a> y, siempre que sea posible, incluye tu modelo (o un modelo m치s sencillo con el mismo problema) en los formator que tengas disponibles. Incluye la informaci칩n suficiente para que otra persona pueda reproducir el problema f치cilmente - a ser posible, una demo en vivo.
	</p>

</body>

</html>
